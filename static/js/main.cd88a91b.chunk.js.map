{"version":3,"sources":["AuthContext.js","components/loginForm/LoginForm.js","components/loginForm/LoginFormPage.js","components/ChatPanel/Message.js","config.js","components/ChatPanel/MessageForm.js","components/ChatPanel/Channel.js","components/ChatPanel/ChatPanel.js","App.js","index.js"],"names":["authContext","createContext","authenticated","setAuthenticated","nickname","setNickname","Provider","Consumer","LoginForm","useContext","AuthContext","onSubmit","event","preventDefault","target","elements","value","spacing","isRequired","type","name","placeholder","size","colorScheme","LoginFormPage","minHeight","align","justify","bg","mx","width","maxW","py","px","fontSize","textAlign","rounded","boxShadow","p","base","md","convertDate","timestamp","datetime","Date","getHours","getMinutes","getSeconds","Message","message","color","user","content","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","database","MessageForm","useState","newMessage","setNewMessage","messageObj","now","ref","push","then","window","scrollTo","document","body","scrollHeight","catch","error","console","onChange","Channel","messages","setMessage","useEffect","on","snapshot","fbMessages","val","convertedMessages","Object","entries","map","id","ChatPanel","onClick","App","theme","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.cd88a91b.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst authContext = createContext({\r\n  authenticated: false,\r\n  setAuthenticated: () => {},\r\n  nickname: \"\",\r\n  setNickname: () => {}\r\n});\r\n\r\nconst { Provider, Consumer } = authContext;\r\nexport { Provider, Consumer };\r\n\r\nexport default authContext;\r\n","import React, { useContext } from \"react\";\r\nimport { Button, Stack, FormControl, FormLabel, Input } from \"@chakra-ui/react\";\r\nimport AuthContext from \"../../AuthContext\";\r\n\r\nfunction LoginForm() {\r\n  const { setAuthenticated, setNickname } = useContext(AuthContext);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n  const { nickname } = event.target.elements;\r\n   setAuthenticated(true);\r\n   setNickname(nickname.value);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <Stack spacing={3}>\r\n        <FormControl isRequired>\r\n          <FormLabel>Nickname</FormLabel>\r\n          <Input type=\"text\" name=\"nickname\" placeholder=\"nickname\" size=\"lg\" />\r\n        </FormControl>\r\n        <Button type=\"submit\" colorScheme=\"blue\">\r\n          Login\r\n        </Button>\r\n      </Stack>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from \"react\";\r\nimport { Flex, Stack, Box, Heading } from \"@chakra-ui/react\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nfunction LoginFormPage() {\r\n  return (\r\n    <Flex minHeight=\"100vh\" align=\"center\" justify=\"center\" bg=\"gray.200\">\r\n      <Stack spacing={8} mx=\"auto\" width=\"full\" maxW=\"md\" py={12} px={6}>\r\n        <Heading fontSize=\"3xl\" textAlign=\"center\">\r\n          Sign up\r\n        </Heading>\r\n        <Box rounded=\"lg\" bg=\"white\" boxShadow=\"lg\" p={{ base: 4, md: 8 }}>\r\n          <LoginForm />\r\n        </Box>\r\n      </Stack>\r\n    </Flex>\r\n  );\r\n}\r\n\r\nexport default LoginFormPage;\r\n","import React from \"react\";\r\nimport { Box, Text, Divider } from \"@chakra-ui/react\";\r\n\r\nfunction convertDate(timestamp) {\r\n  const datetime = new Date(timestamp);\r\n  return `${datetime.getHours()}:${datetime.getMinutes()}:${datetime.getSeconds()}`;\r\n}\r\n\r\nfunction Message({ message }) {\r\n  return (\r\n    <Box rounded=\"lg\" bg=\"gray.200\" boxShadow=\"lg\" p={6}>\r\n      <Text py={2} color=\"grey\">\r\n        {message.user} {convertDate(message.datetime)}\r\n      </Text>\r\n      <Divider />\r\n      <Text py={2}>{message.content}</Text>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyATYJpEX7MFcCubmHiNbCmXB8I8vp6xxJo\",\r\n    authDomain: \"chat-app-9fa6b.firebaseapp.com\",\r\n    databaseURL: \"https://chat-app-9fa6b-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"chat-app-9fa6b\",\r\n    storageBucket: \"chat-app-9fa6b.appspot.com\",\r\n    messagingSenderId: \"268484953204\",\r\n    appId: \"1:268484953204:web:7a71573c6bfe8a40233d21\",\r\n    measurementId: \"G-6RGGRRRDTQ\"\r\n  };\r\n  \r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.database();\r\n\r\nexport default db;","import React, { useState, useContext } from \"react\";\r\nimport { HStack, Input, Button } from \"@chakra-ui/react\";\r\n\r\nimport AuthContext from \"../../AuthContext\";\r\nimport db from \"../../config\";\r\n\r\nfunction MessageForm() {\r\n  const { nickname } = useContext(AuthContext);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n\r\n  const handleContentChange = (event) => {\r\n    setNewMessage(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const messageObj = {\r\n      user: nickname,\r\n      content: newMessage,\r\n      datetime: Date.now()\r\n    };\r\n    if (newMessage) {\r\n      db.ref(\"/messages\")\r\n        .push(messageObj)\r\n        .then(() => {\r\n          setNewMessage(\"\");\r\n          window.scrollTo(0, document.body.scrollHeight);\r\n        })\r\n        .catch((error) => console.error(error));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <HStack>\r\n        <Input\r\n          type=\"text\"\r\n          name=\"content\"\r\n          value={newMessage}\r\n          onChange={handleContentChange}\r\n        />\r\n        <Button type=\"submit\" colorScheme=\"blue\">\r\n          Send\r\n        </Button>\r\n      </HStack>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default MessageForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Stack } from \"@chakra-ui/react\";\r\n\r\nimport Message from \"./Message\";\r\nimport MessageForm from \"./MessageForm\";\r\nimport db from \"../../config\";\r\n\r\nfunction Channel() {\r\n  const [messages, setMessage] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.ref(\"/messages\").on(\"value\", (snapshot) => {\r\n      const fbMessages = snapshot.val();\r\n      const convertedMessages = Object.entries(fbMessages || {}).map(\r\n        ([id, message]) => ({\r\n          ...message,\r\n          id\r\n        })\r\n      );\r\n      setMessage(convertedMessages);\r\n      window.scrollTo(0, document.body.scrollHeight);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Stack spacing={8} py={6}>\r\n      {messages.map((message) => (\r\n        <Message key={message.id} message={message} />\r\n      ))}\r\n      <MessageForm />\r\n    </Stack>\r\n  );\r\n}\r\n\r\nexport default Channel;\r\n","import React, { useContext } from \"react\";\r\nimport { Flex, Stack, Box, Text, Link, Divider } from \"@chakra-ui/react\";\r\n\r\nimport AuthContext from \"../../AuthContext\";\r\nimport Channel from \"./Channel\";\r\n\r\nfunction ChatPanel() {\r\n  const { setAuthenticated, nickname } = useContext(AuthContext);\r\n  const handleLogout = () => setAuthenticated(false);\r\n\r\n  return (\r\n    <Flex minHeight=\"100vh\" align=\"flex-start\" justify=\"center\" bg=\"gray.400\">\r\n      <Stack spacing={8} mx=\"auto\" width=\"full\" py={6} px={6}>\r\n        <Box rounded=\"lg\" bg=\"gray\" boxShadow=\"lg\" p={4}>\r\n          <Text textAlign=\"right\">\r\n            Hello <strong>{nickname}</strong>\r\n            {\" | \"}\r\n            <Link onClick={handleLogout}>Log out</Link>\r\n          </Text>\r\n          <Divider />\r\n          <Channel />\r\n        </Box>\r\n      </Stack>\r\n    </Flex>\r\n  );\r\n}\r\n\r\nexport default ChatPanel;\r\n","import React, { useState } from \"react\";\nimport { ChakraProvider, theme } from \"@chakra-ui/react\";\nimport { LoginFormPage } from \"./components/loginForm/index\";\nimport { ChatPanel } from \"./components/ChatPanel\";\nimport { Provider as AuthProvider } from \"./AuthContext\";\n\nfunction App() {\n  const [authenticated, setAuthenticated] = useState(false);\n  const [nickname, setNickname] = useState(\"\");\n\n  return (\n    <ChakraProvider theme={theme}>\n      <AuthProvider\n        value={{ authenticated, setAuthenticated, nickname, setNickname }}\n      >\n        {authenticated ? <ChatPanel /> : <LoginFormPage />}\n      </AuthProvider>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","import { ColorModeScript } from \"@chakra-ui/react\";\nimport { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <ColorModeScript />\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}