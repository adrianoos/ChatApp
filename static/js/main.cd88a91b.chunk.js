(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{90:function(e,t,n){"use strict";n.r(t);var c=n(107),a=n(3),r=n(70),s=n.n(r),i=n(9),o=n(109),j=n(73),b=n(110),u=n(37),d=n(100),l=n(111),h=n(108),p=Object(a.createContext)({authenticated:!1,setAuthenticated:function(){},nickname:"",setNickname:function(){}}),x=p.Provider,O=(p.Consumer,p),m=n(5);var g=function(){var e=Object(a.useContext)(O),t=e.setAuthenticated,n=e.setNickname;return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault();var c=e.target.elements.nickname;t(!0),n(c.value)},children:Object(m.jsxs)(b.b,{spacing:3,children:[Object(m.jsxs)(u.a,{isRequired:!0,children:[Object(m.jsx)(d.a,{children:"Nickname"}),Object(m.jsx)(l.a,{type:"text",name:"nickname",placeholder:"nickname",size:"lg"})]}),Object(m.jsx)(h.a,{type:"submit",colorScheme:"blue",children:"Login"})]})})},f=n(101),v=n(102),y=n(103);var S=function(){return Object(m.jsx)(f.a,{minHeight:"100vh",align:"center",justify:"center",bg:"gray.200",children:Object(m.jsxs)(b.b,{spacing:8,mx:"auto",width:"full",maxW:"md",py:12,px:6,children:[Object(m.jsx)(v.a,{fontSize:"3xl",textAlign:"center",children:"Sign up"}),Object(m.jsx)(y.a,{rounded:"lg",bg:"white",boxShadow:"lg",p:{base:4,md:8},children:Object(m.jsx)(g,{})})]})})},w=n(61),k=n(104),A=n(105);function C(e){var t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds())}var H=function(e){var t=e.message;return Object(m.jsxs)(y.a,{rounded:"lg",bg:"gray.200",boxShadow:"lg",p:6,children:[Object(m.jsxs)(k.a,{py:2,color:"grey",children:[t.user," ",C(t.datetime)]}),Object(m.jsx)(A.a,{}),Object(m.jsx)(k.a,{py:2,children:t.content})]})},I=n(62);I.a.initializeApp({apiKey:"AIzaSyATYJpEX7MFcCubmHiNbCmXB8I8vp6xxJo",authDomain:"chat-app-9fa6b.firebaseapp.com",databaseURL:"https://chat-app-9fa6b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-app-9fa6b",storageBucket:"chat-app-9fa6b.appspot.com",messagingSenderId:"268484953204",appId:"1:268484953204:web:7a71573c6bfe8a40233d21",measurementId:"G-6RGGRRRDTQ"});var D=I.a.database();var R=function(){var e=Object(a.useContext)(O).nickname,t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(m.jsx)("form",{onSubmit:function(t){t.preventDefault();var n={user:e,content:c,datetime:Date.now()};c&&D.ref("/messages").push(n).then((function(){r(""),window.scrollTo(0,document.body.scrollHeight)})).catch((function(e){return console.error(e)}))},children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)(l.a,{type:"text",name:"content",value:c,onChange:function(e){r(e.target.value)}}),Object(m.jsx)(h.a,{type:"submit",colorScheme:"blue",children:"Send"})]})})};var N=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){D.ref("/messages").on("value",(function(e){var t=e.val(),n=Object.entries(t||{}).map((function(e){var t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(w.a)(Object(w.a)({},c),{},{id:n})}));c(n),window.scrollTo(0,document.body.scrollHeight)}))}),[]),Object(m.jsxs)(b.b,{spacing:8,py:6,children:[n.map((function(e){return Object(m.jsx)(H,{message:e},e.id)})),Object(m.jsx)(R,{})]})},z=n(106);var J=function(){var e=Object(a.useContext)(O),t=e.setAuthenticated,n=e.nickname;return Object(m.jsx)(f.a,{minHeight:"100vh",align:"flex-start",justify:"center",bg:"gray.400",children:Object(m.jsx)(b.b,{spacing:8,mx:"auto",width:"full",py:6,px:6,children:Object(m.jsxs)(y.a,{rounded:"lg",bg:"gray",boxShadow:"lg",p:4,children:[Object(m.jsxs)(k.a,{textAlign:"right",children:["Hello ",Object(m.jsx)("strong",{children:n})," | ",Object(m.jsx)(z.a,{onClick:function(){return t(!1)},children:"Log out"})]}),Object(m.jsx)(A.a,{}),Object(m.jsx)(N,{})]})})})};var T=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),b=s[0],u=s[1];return Object(m.jsx)(o.a,{theme:j.theme,children:Object(m.jsx)(x,{value:{authenticated:n,setAuthenticated:c,nickname:b,setNickname:u},children:n?Object(m.jsx)(J,{}):Object(m.jsx)(S,{})})})},B=document.getElementById("root");s.a.render(Object(m.jsxs)(a.StrictMode,{children:[Object(m.jsx)(c.a,{}),Object(m.jsx)(T,{})]}),B)}},[[90,1,2]]]);
//# sourceMappingURL=main.cd88a91b.chunk.js.map